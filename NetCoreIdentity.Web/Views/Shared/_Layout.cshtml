@using NetCoreIdentity.Web.Helpers
@using Microsoft.AspNetCore.Identity
@using NetCoreIdentity.Web.Areas.Identity.Data

@inject SignInManager<NetCoreIdentityUser> SignInManager
@inject UserManager<NetCoreIdentityUser> UserManager
<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Core Web</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/lib/font-awesome/font-awesome.min.css" />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/GrayGrids/LineIcons/LineIcons.css">
    <link href="https://cdn.jsdelivr.net/npm/select2@4.0.12/dist/css/select2.min.css" rel="stylesheet" />
    <link href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="~/css/main.min.css" rel="stylesheet" />

</head>
<body>

    <div class="main-content">

        <input id="menu-btn" type="checkbox" value="" />
        <label class="toggle-btn" for="menu-btn">
            <span></span>
            <span></span>
            <span></span>
        </label>

        <div class="side-menu">
            <span class="site-name">
                <img style="height:50px" src="~/imgs/Official_Razgriz_Squadron_Emblem-removebg-preview.png" />
                Core Web
            </span>
            <a class="@Html.IsControllerSelected(controllers: "Index")" href="@Url.Action("Index","Home")">
                <div class="icon-wrap">
                    <i class="lni lni-home"></i>
                </div>
                <span>Home</span>
            </a>

            <a class="@Html.IsControllerSelected(controllers: "Customers")" href="@Url.Action("Index","Customers")">
                <div class="icon-wrap">
                    <i class="lni lni-customer"></i>
                </div>
                <span>Customers</span>

            </a>
            <a class="had-sub-menu">
                <div class="icon-wrap">
                    <i class='lni lni-cog'></i>
                </div>
                <span>
                    Systems
                </span>
            </a>
            <ul class="sub-menu">

                <li>
                    <a>
                        <span>
                            -Authority/Roles
                        </span>
                    </a>
                </li>
            </ul>

        </div>
        <div class="center-content">
            <div class="header">
                <div class="toggle-menu-size-btn">
                    <span><i class="lni-chevron-left"></i></span>
                </div>

                <div class="page-title">
                    <span>
                        @ViewBag.Title
                    </span>

                </div>
                <!--<div class="user">
                    使用者:Admin
                </div>
                <a class="logout" href="@Url.Action("Index","Login")"><i class="lni-power-switch"></i>-->
                @*登出*@<!--</a>-->
                <partial name="_LoginPartial" />
            </div>
            @RenderBody()
        </div>
    </div>
    <div class="footer">
        <span>xxxx© copyright 2019</span>
    </div>


    <div id="big-modal-container" class="modal-container modal fade hidden-print" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">

            </div>
        </div>
    </div>
    <div id="modal-container" class="modal-container modal fade hidden-print" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">

            </div>
        </div>
    </div>

    <div id="sub-modal-container" class="modal-container modal fade hidden-print" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">

            </div>
        </div>
    </div>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    @RenderSection("Scripts", required: false)
    <script>

        $(function () {
            // boostrap 4 load modal example from docs
            $('.modal-container').on('show.bs.modal', function (event) {

                var button = $(event.relatedTarget); // Button that triggered the modal

                var url = button.attr("href");

                var modal = $(this);

                // note that this will replace the content of modal-content everytime the modal is opened
                modal.find('.modal-content').load(url);

            });

            $('.modal-container').on('hidden.bs.modal', function () {

                // remove the bs.modal data attribute from it

                $(this).removeData('bs.modal');

                // and empty the modal-content element

                //$('.modal-container .modal-content').empty();

                $(this).find('.modal-content').empty();

            });


            $(".toggle-menu-size-btn").click(function () {
                $("body").toggleClass("mini-side-menu");
            })
        });

        $(".had-sub-menu").click(function () {
            $(this).toggleClass("active");
        });

        //Multiple modals overlay z-index fix
        $(document).on('show.bs.modal', '.modal', function () {
            var zIndex = 1040 + (10 * $('.modal:visible').length);
            $(this).css('z-index', zIndex);
            setTimeout(function () {
                $('.modal-backdrop').not('.modal-stack').css('z-index', zIndex - 1).addClass('modal-stack');
            }, 0);
        });

    </script>

</body>
</html>
